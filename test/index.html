<!doctype html>
<title>Tubes.js test page</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="../build/tubes.js"></script>
<script>
	var xhr;
	var banner = function(str){
		console.log("================================");
		console.log(str);
		console.log("================================");
		console.log("");
	};
	banner("Tubes.js Demo")
	var Tube = new Tubes({});
	var Queue = new Tubes({maxCalls:1});
	var url = "http://gdata.youtube.com/feeds/api/videos?&orderby=published&author=GoogleDevelopers&alt=json&max-results=8&callback=?";
	var url2 = "http://gdata.youtube.com/feeds/api/videos?&orderby=published&author=BlueXephos&alt=json&max-results=8&callback=?";
	var ajax = {
		url : url,
		dataType : "json",
		success : function(data){
			console.log(data);
		}
	};
	var pipe = Tube.pipe(ajax, {});
	ajax.url = url2;
	var pipe2 = Tube.pipe(ajax, {});
	Tube.pause();
	ajax.url = url;
	var last = Tube.pipe(ajax, {});
	setTimeout(function(){
		Tube.resume();
	},2000)

	pipe.on("done", function(){
		banner("We're done here");
	});

	last.on("done", function(){
		banner("Finished up pause resume demo");
	})

</script>